---
title: 运维篇笔记
date: 2018-02-24 20:51:05
tags:
	- 鸟哥Linux私房菜
categories:
	- Linux
---
# 运维基础


来自《鸟哥私房菜基础篇》
### 一.例行工作
![例行工作.jpg](00.jpeg)

### 二.工作管理
| 前后台管理 | 查看和关闭进程 |
| --- | --- |
| 直接后台：& | jobs |
| 暂停工作：[ctrl]-Z | kill -9(强制关闭) |
| 前后台切换：fg/bg %jobnumber | nohup(退出系统后让任务依旧运行、只支持外部命令) |


### 三.进程管理
| ps(显示进程) | top(动态显示) | pstree | 进程优先级 |
| --- | --- | --- | --- |
| ps aux：所有的进程 |  |  | ps中列出的PRI |
| ps -l：本bash的进程 |  |  | PRI(new)=PRI(old)+nice |
| ps axjf：进程树模式 |  |  | nice开始进程并赋值 |
|  |  |  | renice已存在进程调整nice值 |


### 四.其他管理
| 内存管理 | 跟踪网络 | 分析内核信息 | 检测系统资源变化 |
| --- | --- | --- | --- |
| free | netstat | dmesg | vmstat |


### 五.进程与文件
| /proc/* | 常用命令 |
| --- | --- |
| 保存了内存中的进程的文件 | fuser：找出正在使用该文件的程序 |
| cmdline：进程启动的命令串 | isof：列出进程所打开的文件名 |
| environ：进程的环境变量 | pidof：给出进程的进程号 |


### 六.日志系统

鸟哥书本与debian系统不一致

### 七.系统启动

#### 7.1 涉及文件

/boot/vmlinux：内核压缩文件

/boot/initrd+版本号.img：虚拟文件系统，用于加载内核文件

/boot/grub：启动器

#### 7.2内核模块
| 主要文件 | 内核命令 |
| --- | --- |
| 内核：/boot/vmlinux-version | 内核依赖性查看：depmod |
| 内核解压缩：/boot/initrd | 内核模块查看：ismod |
| 内核模块：/lib/modules/version/kernel | 内核加载：insmod |
|  | 内核删除：rmmod |


### 八.源码安装
| make命令 | 安装过程 | 影响目录 |
| --- | --- | --- |
| 将繁琐的编译和链接配置一次性完成 | ./configure  建立makefile文件和检测系统 | /usr/local/etc |
| 需要makefile文件 | makeclean 去除旧的编译文件 | /usr/local/bin |
|  | make  编译 | /usr/local/lib |
|  | makeinstall  安装 | /usr/local/man |


